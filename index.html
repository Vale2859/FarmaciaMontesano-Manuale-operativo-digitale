<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Portale Farmacia Montesano</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <script src="script.js" defer></script>
</head>
<body>

  <!-- ================= LOGIN ================= -->
  <div id="authContainer" class="auth-container">
    <div class="auth-card">
      <div class="auth-logo-wrap">
        <img src="logo.jpg" alt="Farmacia Montesano" class="auth-logo" />
      </div>
      <h1>Portale Farmacia Montesano</h1>
      <p class="auth-intro">
        Seleziona il tipo di accesso e inserisci le credenziali.
      </p>

      <div class="auth-tabs">
        <button class="auth-tab active" data-role="farmacia">Farmacia</button>
        <button class="auth-tab" data-role="titolare">Titolare</button>
        <button class="auth-tab" data-role="dipendente">Dipendente</button>
      </div>

      <p class="auth-subtitle">
        Accesso come: <span id="loginRoleLabel">Farmacia</span>
      </p>

      <form id="loginForm" class="auth-form">
        <div class="form-row">
          <label for="username">Username</label>
          <input id="username" type="text" autocomplete="off" />
        </div>
        <div class="form-row">
          <label for="password">Password</label>
          <input id="password" type="password" />
        </div>
        <button type="submit" class="btn-primary wide">Entra</button>
      </form>
    </div>
  </div>

  <!-- =============== APP (DASHBOARD + PAGINE) =============== -->
  <div id="appContainer" class="app-container hidden">

    <!-- SIDEBAR -->
    <aside id="sidebar" class="sidebar">
      <div class="sidebar-header">
        <h2>Menu</h2>
        <button id="closeSidebar" class="icon-button" aria-label="Chiudi menu">‚úï</button>
      </div>
      <ul class="sidebar-list">
        <li>Area personale</li>
        <li>Admin</li>
        <li id="logoutLink" class="logout">Logout</li>
      </ul>
    </aside>

    <!-- HAMBURGER -->
    <button id="hamburger" class="hamburger" aria-label="Apri menu">
      ‚ò∞
    </button>

    <!-- HEADER LOGO + RUOLO -->
    <header class="top-header">
      <div class="top-logo-block">
        <img src="logo.jpg" alt="Farmacia Montesano" class="top-logo" />
        <div class="top-text">
          <div class="top-title">FARMACIA MONTESANO</div>
          <div class="top-subtitle">Portale interno</div>
        </div>
      </div>
      <div class="top-role">
        <span id="currentRoleLabel" class="role-chip">
          Farmacia (accesso generico)
        </span>
      </div>
    </header>

    <!-- =============== PAGINA: DASHBOARD =============== -->
    <main>

      <section id="dashboard" class="page page-active">
        <div class="page-inner">

          <div class="cards-grid">

            <!-- ASSENZE -->
            <article class="card card-assenze">
              <span class="card-badge">2</span>
              <div class="card-header">
                <div class="card-icon">üìÖ</div>
                <div class="card-title-group">
                  <h2 id="assenzeCardTitle">Assenze del personale</h2>
                  <span class="chip chip-today">Oggi</span>
                </div>
              </div>
              <div class="card-body">
                <p class="caption">2 richieste in attesa</p>
                <p class="small-text">
                  Assenti oggi: <strong>Mario G., Anna S.</strong><br />
                  In ferie: <strong>Luca B.</strong>
                </p>
              </div>
              <div class="card-footer">
                <button id="btnOpenAssenze" class="btn-primary">
                  Richiedi la tua assenza
                </button>
              </div>
            </article>

            <!-- FARMACIA DI TURNO -->
            <article class="card card-turno">
              <span class="card-badge">1</span>
              <div class="card-header">
                <div class="card-icon">‚è∞</div>
                <div class="card-title-group">
                  <h2>Farmacia di turno</h2>
                  <span class="chip chip-turno">00:00 ‚Äì 24:00</span>
                </div>
              </div>
              <div class="card-body">
                <p><strong>Farmacia Montesano</strong></p>
                <p class="small-text">
                  Via Esempio 12, Matera<br />
                  Tel: 0835 000000
                </p>
                <div class="divider"></div>
                <p class="small-text">
                  <strong>Farmacia di appoggio</strong><br />
                  Farmacia Centrale ‚Äì Via Dante 8, Matera ‚Äì Tel: 0835 111111
                </p>
              </div>
              <div class="card-footer">
                <button id="btnOpenFarmacie" class="btn-secondary">
                  Lista farmacie di turno
                </button>
              </div>
            </article>

            <!-- COMUNICAZIONI -->
            <article class="card card-comunicazioni">
              <span class="card-badge">3</span>
              <div class="card-header">
                <div class="card-icon">üì¢</div>
                <div class="card-title-group">
                  <h2>Comunicazioni</h2>
                </div>
              </div>
              <div class="card-body card-body-list">
                <div class="list-item">Nuova procedura disponibile</div>
                <div class="list-item">Aggiornare il registro sicurezza</div>
                <div class="list-item">Incontro all'orario di chiusura</div>
              </div>
              <div class="card-footer">
                <button id="btnOpenComunicazioni" class="btn-primary">
                  Comunica o modifica la comunicazione
                </button>
              </div>
            </article>

            <!-- PROCEDURE -->
            <article class="card card-procedure">
              <span class="card-badge">1</span>
              <div class="card-header">
                <div class="card-icon">üìÅ</div>
                <div class="card-title-group">
                  <h2>Procedure</h2>
                </div>
              </div>
              <div class="card-body">
                <p class="small-text">
                  Consulta, modifica o inserisci nuove procedure operative interne.
                </p>
              </div>
              <div class="card-footer">
                <button id="btnOpenProcedure" class="btn-secondary">
                  Modifica o aggiungi procedura
                </button>
              </div>
            </article>

            <!-- LOGISTICA -->
            <article class="card card-logistica">
              <span class="card-badge">4</span>
              <div class="card-header">
                <div class="card-icon">üì¶</div>
                <div class="card-title-group">
                  <h2>Logistica</h2>
                </div>
              </div>
              <div class="card-body">
                <p class="small-text">
                  Arrivi, corrieri, espositori e materiali per reparto.
                </p>
              </div>
              <div class="card-footer">
                <button class="btn-secondary">
                  Modifica o inserisci nuova logistica
                </button>
              </div>
            </article>

            <!-- MAGAZZINIERA -->
            <article class="card card-magazziniera">
              <span class="card-badge">2</span>
              <div class="card-header">
                <div class="card-icon">üìã</div>
                <div class="card-title-group">
                  <h2>Magazziniera</h2>
                </div>
              </div>
              <div class="card-body">
                <p class="small-text">
                  Controllo scorte, scadenze, arrivi e sistemazione magazzino.
                </p>
              </div>
              <div class="card-footer">
                <button class="btn-secondary">
                  Modifica
                </button>
              </div>
            </article>

          </div>
        </div>
      </section>

      <!-- =============== PAGINA ASSENZE =============== -->
      <section id="assenzePage" class="page hidden">
        <div class="page-inner">
          <header class="page-header">
            <button class="btn-back-dashboard btn-secondary btn-small">
              ‚Üê Dashboard
            </button>
            <h1>Assenze del personale</h1>
            <p>
              Consulta le tue assenze, verifica chi √® assente oggi e invia una nuova richiesta.
            </p>
          </header>

          <!-- PICCOLE CARD RIASSUNTO -->
          <div class="mini-cards-row">
            <article class="mini-card">
              <h3>Le tue prossime assenze</h3>
              <p class="big-number">2 giorni</p>
              <p class="small-text">20/12 ‚Äì 21/12 ¬∑ Ferie approvate</p>
            </article>
            <article class="mini-card">
              <h3>Richieste in attesa</h3>
              <p class="big-number">1</p>
              <p class="small-text">10/01 ¬∑ Permesso pomeriggio</p>
            </article>
            <article class="mini-card">
              <h3>Storico ultimi 3 mesi</h3>
              <p class="big-number">6 giorni</p>
              <p class="small-text">Ferie: 5 ¬∑ Permessi: 1</p>
            </article>
          </div>

          <div class="assenze-layout">
            <!-- CALENDARIO -->
            <article class="card calendar-card">
              <div class="calendar-header">
                <div>
                  <h2>Calendario assenze</h2>
                  <p class="small-text">Panoramica mensile delle assenze in farmacia.</p>
                </div>
                <div class="calendar-controls">
                  <select>
                    <option>Dicembre 2025</option>
                    <option>Gennaio 2026</option>
                    <option>Febbraio 2026</option>
                  </select>
                  <label class="filter-check">
                    <input type="checkbox" checked />
                    <span>Mostra solo le mie assenze</span>
                  </label>
                </div>
              </div>

              <div class="calendar-grid">
                <div class="calendar-row calendar-header-row">
                  <span>Lun</span><span>Mar</span><span>Mer</span>
                  <span>Gio</span><span>Ven</span><span>Sab</span><span>Dom</span>
                </div>

                <div class="calendar-row">
                  <span class="empty"></span>
                  <span class="day">1</span>
                  <span class="day">2</span>
                  <span class="day">3</span>
                  <span class="day">4</span>
                  <span class="day">5</span>
                  <span class="day">6</span>
                </div>
                <div class="calendar-row">
                  <span class="day">7</span>
                  <span class="day">8</span>
                  <span class="day day-holiday">
                    9
                    <span class="dot dot-ferie" title="Luca ¬∑ Ferie"></span>
                  </span>
                  <span class="day">10</span>
                  <span class="day">11</span>
                  <span class="day">12</span>
                  <span class="day">13</span>
                </div>
                <div class="calendar-row">
                  <span class="day">14</span>
                  <span class="day">15</span>
                  <span class="day">16</span>
                  <span class="day today">
                    17
                    <span class="dot dot-oggi" title="Assenti: Mario, Anna"></span>
                  </span>
                  <span class="day">18</span>
                  <span class="day">19</span>
                  <span class="day">20</span>
                </div>
                <div class="calendar-row">
                  <span class="day">
                    21
                    <span class="dot dot-ferie" title="Tu ¬∑ Ferie"></span>
                  </span>
                  <span class="day">22</span>
                  <span class="day">23</span>
                  <span class="day">24</span>
                  <span class="day">25</span>
                  <span class="day">26</span>
                  <span class="day">27</span>
                </div>
                <div class="calendar-row">
                  <span class="day">28</span>
                  <span class="day">29</span>
                  <span class="day">30</span>
                  <span class="day">31</span>
                  <span class="empty"></span>
                  <span class="empty"></span>
                  <span class="empty"></span>
                </div>
              </div>

              <div class="calendar-legend">
                <span><span class="legend-dot ferie"></span> Ferie</span>
                <span><span class="legend-dot permesso"></span> Permesso</span>
                <span><span class="legend-dot oggi"></span> Oggi</span>
              </div>
            </article>

            <!-- OGGI IN FARMACIA -->
            <article class="card oggi-card">
              <h2>Oggi in assenza</h2>
              <p class="small-text">
                Situazione del personale nella giornata odierna.
              </p>
              <ul class="assenze-list">
                <li><span class="name">Mario G.</span><span class="tag tag-ferie">Ferie</span></li>
                <li><span class="name">Anna S.</span><span class="tag tag-permesso">Permesso</span></li>
                <li><span class="name">Luca B.</span><span class="tag tag-malattia">Malattia</span></li>
              </ul>

              <div class="divider"></div>

              <h3>Prossimi 3 giorni</h3>
              <ul class="assenze-list small">
                <li><span class="name">Marco R.</span><span class="details">18/12 ¬∑ Ferie</span></li>
                <li><span class="name">Giulia P.</span><span class="details">19/12 ¬∑ Corso</span></li>
                <li><span class="name">Anna S.</span><span class="details">20/12 ¬∑ Permesso mattina</span></li>
              </ul>
            </article>
          </div>

          <!-- LE TUE RICHIESTE -->
          <article class="card requests-card">
            <div class="requests-header">
              <h2>Le tue richieste di assenza</h2>
              <p class="small-text">Stato delle richieste inviate al titolare.</p>
            </div>
            <div class="requests-table">
              <div class="requests-row header">
                <span>Dal</span><span>Al</span><span>Tipo</span><span>Stato</span><span>Azioni</span>
              </div>
              <div class="requests-row">
                <span>20/12/2025</span>
                <span>21/12/2025</span>
                <span>Ferie</span>
                <span><span class="status status-approved">Approvata</span></span>
                <span class="actions">‚Äî</span>
              </div>
              <div class="requests-row">
                <span>10/01/2026</span>
                <span>10/01/2026</span>
                <span>Permesso</span>
                <span><span class="status status-pending">In attesa</span></span>
                <span class="actions">
                  <button class="link-button">Modifica</button>
                  <button class="link-button danger">Annulla</button>
                </span>
              </div>
              <div class="requests-row">
                <span>05/11/2025</span>
                <span>05/11/2025</span>
                <span>Malattia</span>
                <span><span class="status status-rejected">Rifiutata</span></span>
                <span class="actions">‚Äî</span>
              </div>
            </div>
          </article>

          <!-- FORM RICHIESTA -->
          <article class="card form-card">
            <h2>Richiedi una nuova assenza</h2>
            <p class="small-text">
              Compila il modulo per inviare la tua richiesta al titolare.
            </p>
            <form id="assenzeForm" class="assenze-form">
              <div class="form-row">
                <label for="tipoAssenza">Tipo di assenza</label>
                <select id="tipoAssenza" name="tipoAssenza">
                  <option>Ferie</option>
                  <option>Permesso</option>
                  <option>Malattia</option>
                  <option>Corso / Formazione</option>
                  <option>Altro</option>
                </select>
              </div>

              <div class="form-row two-cols">
                <div>
                  <label for="dalGiorno">Dal giorno</label>
                  <input type="date" id="dalGiorno" name="dalGiorno" />
                </div>
                <div>
                  <label for="alGiorno">Al giorno</label>
                  <input type="date" id="alGiorno" name="alGiorno" />
                </div>
              </div>

              <div class="form-row">
                <label class="checkbox-inline">
                  <input type="checkbox" id="mezzaGiornata" name="mezzaGiornata" />
                  <span>Solo mezza giornata</span>
                </label>
              </div>

              <div class="form-row">
                <label for="noteAssenza">Motivo / note per il titolare</label>
                <textarea id="noteAssenza" name="noteAssenza" rows="3"
                  placeholder="Es. permesso per visita medica, ferie programmata, corso di aggiornamento..."></textarea>
              </div>

              <div class="form-actions">
                <button type="submit" class="btn-primary">
                  Invia richiesta di assenza
                </button>
              </div>

              <p id="assenzeFeedback" class="form-feedback hidden">
                ‚úÖ Richiesta inviata correttamente (esempio grafico).
              </p>
            </form>
          </article>
        </div>
      </section>

      <!-- =============== PAGINA FARMACIE DI TURNO =============== -->
      <section id="farmaciePage" class="page hidden">
        <div class="page-inner">
          <header class="page-header">
            <button class="btn-back-dashboard btn-secondary btn-small">
              ‚Üê Dashboard
            </button>
            <h1>Farmacie di turno</h1>
            <p>
              Elenco delle farmacie di turno e di appoggio per la giornata odierna.
            </p>
          </header>

          <article class="card">
            <h2>Oggi</h2>
            <ul class="turni-list">
              <li>
                <div class="turno-main">
                  <span class="turno-name">Farmacia Montesano</span>
                  <span class="turno-time">00:00 ‚Äì 24:00</span>
                </div>
                <div class="turno-details">
                  Via Esempio 12, Matera ¬∑ Tel: 0835 000000
                </div>
              </li>
              <li>
                <div class="turno-main">
                  <span class="turno-name">Farmacia Centrale</span>
                  <span class="turno-tag">Appoggio</span>
                </div>
                <div class="turno-details">
                  Via Dante 8, Matera ¬∑ Tel: 0835 111111
                </div>
              </li>
            </ul>
          </article>

          <article class="card">
            <h2>Prossimi giorni (esempio)</h2>
            <ul class="turni-list small">
              <li>
                <span class="turno-name">18/12 ¬∑ Farmacia San Rocco</span>
                <span class="turno-details">Via Roma 5 ¬∑ Tel: 0835 222222</span>
              </li>
              <li>
                <span class="turno-name">19/12 ¬∑ Farmacia del Corso</span>
                <span class="turno-details">Corso Italia 10 ¬∑ Tel: 0835 333333</span>
              </li>
              <li>
                <span class="turno-name">20/12 ¬∑ Farmacia Comunale</span>
                <span class="turno-details">Piazza Centrale 1 ¬∑ Tel: 0835 444444</span>
              </li>
            </ul>
          </article>
        </div>
      </section>

      <!-- =============== PAGINA PROCEDURE =============== -->
      <section id="procedurePage" class="page hidden">
        <div class="page-inner">
          <header class="page-header">
            <button class="btn-back-dashboard btn-secondary btn-small">
              ‚Üê Dashboard
            </button>
            <h1>Procedure operative</h1>
            <p>
              Consulta, modifica o inserisci le procedure interne della farmacia:
              banco, magazzino, servizi, sicurezza, CUP, ecc.
            </p>
          </header>

          <!-- RIASSUNTO -->
          <div class="mini-cards-row">
            <article class="mini-card">
              <h3>Procedure totali</h3>
              <p class="big-number">18</p>
              <p class="small-text">Procedure attualmente registrate.</p>
            </article>
            <article class="mini-card">
              <h3>Ultimo aggiornamento</h3>
              <p class="big-number">10</p>
              <p class="small-text">Procedure aggiornate negli ultimi 30 giorni.</p>
            </article>
            <article class="mini-card">
              <h3>Revisioni in corso</h3>
              <p class="big-number">3</p>
              <p class="small-text">Bozze da approvare dal titolare.</p>
            </article>
          </div>

          <!-- ELENCO PROCEDURE (ESEMPIO) -->
          <article class="card">
            <h2>Elenco procedure (categorie esempio)</h2>
            <p class="small-text">
              Esempio di come potrai organizzare le procedure interne.
            </p>
            <h3>Banco &amp; Vendita</h3>
            <ul class="bullet-list">
              <li>Gestione scontrino errato / annullamento</li>
              <li>Procedura reso merce al cliente</li>
              <li>Gestione anticipi con ricetta SSN</li>
            </ul>
            <h3>Magazzino &amp; Scadenze</h3>
            <ul class="bullet-list">
              <li>Controllo scadenze mensile</li>
              <li>Gestione farmaci da smaltire</li>
              <li>Ricezione merci da grossista</li>
            </ul>
            <h3>Servizi &amp; Cup</h3>
            <ul class="bullet-list">
              <li>Prenotazione servizi interni (PA, autoanalisi‚Ä¶)</li>
              <li>Identificazione paziente e consenso</li>
            </ul>
          </article>

          <!-- NUOVA / MODIFICA PROCEDURA -->
          <article class="card form-card">
            <h2>Nuova / modifica procedura</h2>
            <p class="small-text">
              Compila i campi per registrare o aggiornare una procedura interna.
            </p>

            <form id="procedureForm" class="assenze-form">
              <div class="form-row">
                <label for="procCategoria">Categoria</label>
                <select id="procCategoria" name="procCategoria">
                  <option>Banco &amp; Vendita</option>
                  <option>Magazzino &amp; Scadenze</option>
                  <option>Servizi &amp; Cup</option>
                  <option>Amministrazione</option>
                  <option>Altro</option>
                </select>
              </div>

              <div class="form-row">
                <label for="procTitolo">Titolo procedura</label>
                <input id="procTitolo" name="procTitolo"
                  placeholder="Es. Gestione scontrino contanti vs POS" />
              </div>

              <div class="form-row">
                <label for="procDescrizione">Descrizione / passaggi</label>
                <textarea id="procDescrizione" name="procDescrizione" rows="4"
                  placeholder="Scrivi qui i passaggi operativi passo-passo..."></textarea>
              </div>

              <div class="form-actions">
                <button type="submit" class="btn-primary">
                  Salva procedura
                </button>
              </div>

              <p id="procedureFeedback" class="form-feedback hidden">
                ‚úÖ Procedura salvata (esempio grafico, senza database).
              </p>
            </form>
          </article>
        </div>
      </section>

      <!-- (IN FUTURO: pagina Comunicazioni se vorrai aprirla in dettaglio) -->

    </main>
  </div>
</body>
</html>
