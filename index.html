<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Portale Farmacia Montesano</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <script src="script.js" defer></script>
</head>
<body>

  <!-- ========== LOGIN ========== -->
  <div id="authContainer" class="auth-container">
    <div class="auth-card">
      <div class="auth-logo-wrap">
        <img src="logo.jpg" alt="Farmacia Montesano" class="auth-logo" />
      </div>
      <h1>Portale Farmacia Montesano</h1>
      <p class="auth-intro">
        Seleziona il tipo di accesso e inserisci le credenziali.
      </p>

      <div class="auth-tabs">
        <button class="auth-tab active" data-role="farmacia">Farmacia</button>
        <button class="auth-tab" data-role="titolare">Titolare</button>
        <button class="auth-tab" data-role="dipendente">Dipendente</button>
      </div>

      <p class="auth-subtitle">
        Accesso come: <span id="loginRoleLabel">Farmacia</span>
      </p>

      <form id="loginForm" class="auth-form">
        <div class="form-row">
          <label for="loginUser">Username</label>
          <input type="text" id="loginUser" autocomplete="username" />
        </div>
        <div class="form-row">
          <label for="loginPass">Password</label>
          <input type="password" id="loginPass" autocomplete="current-password" />
        </div>
        <button type="submit" class="btn-primary wide">Entra</button>
        <p id="loginError" class="form-error hidden">
          Credenziali non valide. (Per ora accetta qualsiasi dato ğŸ˜‰)
        </p>
      </form>
    </div>
  </div>

  <!-- ========== APP ========== -->
  <div id="appContainer" class="app hidden">
    <div class="app-shell">

      <!-- SIDEBAR -->
      <aside id="sidebar" class="sidebar">
        <div class="sidebar-header">
          <h2>Menu</h2>
          <button id="closeSidebar" class="icon-button" aria-label="Chiudi menu">âœ•</button>
        </div>
        <ul class="sidebar-list">
          <li data-action="home">ğŸ  Dashboard</li>
          <li data-action="area-personale">ğŸ‘¤ Area personale</li>
          <li data-action="admin">ğŸ›  Admin</li>
          <li data-action="logout" class="logout">ğŸšª Logout</li>
        </ul>
      </aside>

      <!-- HAMBURGER -->
      <button id="hamburger" class="hamburger" aria-label="Apri menu">â˜°</button>

      <!-- HEADER SUPERIORE -->
      <header class="top-header">
        <div class="top-logo">
          <img src="logo.jpg" alt="Farmacia Montesano" />
        </div>
        <div class="top-pill" id="roleBadge">
          Farmacia (accesso generico)
        </div>
      </header>

      <!-- PAGINE -->
      <main class="pages">

        <!-- ========== DASHBOARD ========== -->
        <section id="dashboard" class="page page-active">

          <h2 class="section-title">Farmacia Montesano â€“ Portale interno</h2>

          <div class="cards-grid">

            <!-- ASSENZE -->
            <article class="card card-assenze">
              <span class="card-badge">2</span>
              <div class="card-header">
                <div class="card-icon">ğŸ“…</div>
                <div class="card-title-group">
                  <h3>Assenze del personale</h3>
                  <span class="chip chip-today">Oggi</span>
                </div>
              </div>
              <div class="card-body">
                <p class="caption">2 richieste in attesa</p>
                <p class="small-text">
                  Assenti oggi: <strong>Mario G., Anna S.</strong><br />
                  In ferie: <strong>Luca B.</strong>
                </p>
              </div>
              <div class="card-footer">
                <button id="openAssenze" class="btn-primary">
                  Richiedi la tua assenza
                </button>
              </div>
            </article>

            <!-- FARMACIA DI TURNO -->
            <article class="card card-turno">
              <span class="card-badge">1</span>
              <div class="card-header">
                <div class="card-icon">â°</div>
                <div class="card-title-group">
                  <h3>Farmacia di turno</h3>
                  <span class="chip chip-turno">00:00 â€“ 24:00</span>
                </div>
              </div>
              <div class="card-body">
                <p><strong>Farmacia Montesano</strong></p>
                <p class="small-text">
                  Via Esempio 12, Matera<br />
                  Tel: 0835 000000
                </p>
                <div class="divider"></div>
                <p class="small-text">
                  <strong>Farmacia di appoggio</strong><br />
                  Farmacia Centrale â€“ Via Dante 8, Matera â€“ Tel: 0835 111111
                </p>
              </div>
              <div class="card-footer">
                <button class="btn-secondary">
                  Lista farmacie di turno
                </button>
              </div>
            </article>

            <!-- COMUNICAZIONI -->
            <article class="card card-comunicazioni">
              <span class="card-badge">3</span>
              <div class="card-header">
                <div class="card-icon">ğŸ“¢</div>
                <div class="card-title-group">
                  <h3>Comunicazioni</h3>
                </div>
              </div>
              <div class="card-body card-body-list">
                <div class="list-item">Nuova procedura disponibile</div>
                <div class="list-item">Aggiornare il registro sicurezza</div>
                <div class="list-item">Incontro all'orario di chiusura</div>
              </div>
              <div class="card-footer">
                <button id="openComunicazioni" class="btn-primary">
                  Comunica o modifica la comunicazione
                </button>
              </div>
            </article>

            <!-- PROCEDURE -->
            <article class="card card-procedure">
              <span class="card-badge">1</span>
              <div class="card-header">
                <div class="card-icon">ğŸ—‚ï¸</div>
                <div class="card-title-group">
                  <h3>Procedure</h3>
                </div>
              </div>
              <div class="card-body">
                <p class="small-text">
                  Consulta, modifica o inserisci nuove procedure operative interne.
                </p>
              </div>
              <div class="card-footer">
                <button class="btn-secondary">
                  Modifica o aggiungi procedura
                </button>
              </div>
            </article>

            <!-- LOGISTICA -->
            <article class="card card-logistica">
              <span class="card-badge">4</span>
              <div class="card-header">
                <div class="card-icon">ğŸ“¦</div>
                <div class="card-title-group">
                  <h3>Logistica</h3>
                </div>
              </div>
              <div class="card-body">
                <p class="small-text">
                  Arrivi, corrieri, espositori e materiali per reparto.
                </p>
              </div>
              <div class="card-footer">
                <button class="btn-secondary">
                  Modifica o inserisci nuova logistica
                </button>
              </div>
            </article>

            <!-- MAGAZZINIERA -->
            <article class="card card-magazziniera">
              <span class="card-badge">2</span>
              <div class="card-header">
                <div class="card-icon">ğŸ“‹</div>
                <div class="card-title-group">
                  <h3>Magazziniera</h3>
                </div>
              </div>
              <div class="card-body">
                <p class="small-text">
                  Controllo scorte, scadenze, arrivi e sistemazione magazzino.
                </p>
              </div>
              <div class="card-footer">
                <button class="btn-secondary">
                  Modifica
                </button>
              </div>
            </article>

          </div>
        </section>

        <!-- ========== PAGINA ASSENZE ========== -->
        <section id="assenzePage" class="page">
          <header class="page-header">
            <button class="back-button" data-target="dashboard">â† Dashboard</button>
            <div class="page-title-block">
              <h2>Assenze del personale</h2>
              <p>Consulta le tue assenze e invia una nuova richiesta.</p>
            </div>
          </header>

          <!-- CONTENUTO SINTETICO (come avevamo giÃ ) -->
          <p class="small-text">
            (Contenuto di esempio â€“ la logica vera la aggiungeremo quando avremo il server.)
          </p>
        </section>

        <!-- ========== PAGINA COMUNICAZIONI ========== -->
        <section id="comunicazioniPage" class="page">

          <header class="page-header">
            <button class="back-button" data-target="dashboard">â† Dashboard</button>
            <div class="page-title-block">
              <h2>Comunicazioni interne</h2>
              <p>Gestisci avvisi, note operative e messaggi tra titolare e dipendenti.</p>
            </div>
          </header>

          <div class="comms-layout">

            <!-- COLONNA SINISTRA: ELENCO COMUNICAZIONI -->
            <article class="card comms-list-card">
              <div class="comms-list-header">
                <h3>Comunicazioni recenti</h3>
                <div class="comms-filters">
                  <button class="chip small active">Tutte</button>
                  <button class="chip small">Non lette</button>
                  <button class="chip small">Solo mie</button>
                </div>
              </div>

              <ul class="comms-list">
                <li class="comms-item unread">
                  <div class="comms-title">
                    ğŸ”´ Nuova procedura â€œAnticipi cassaâ€
                  </div>
                  <div class="comms-meta">
                    Oggi Â· Inviata da <strong>Valerio</strong> Â· Destinatari: Tutti
                  </div>
                  <p class="comms-text">
                    Da domani usare esclusivamente la nuova procedura per gli anticipi ai clienti.
                  </p>
                </li>

                <li class="comms-item">
                  <div class="comms-title">
                    ğŸŸ¢ Controllo scadenze reparto OTC
                  </div>
                  <div class="comms-meta">
                    Ieri Â· Inviata da <strong>Luca</strong> Â· Destinatari: Magazziniera
                  </div>
                  <p class="comms-text">
                    Verificare tutte le scadenze entro fine mese e segnalare prodotti da mettere in promo.
                  </p>
                </li>

                <li class="comms-item">
                  <div class="comms-title">
                    ğŸ”” Incontro a fine turno
                  </div>
                  <div class="comms-meta">
                    3 giorni fa Â· Inviata da <strong>Titolare</strong> Â· Destinatari: Tutti
                  </div>
                  <p class="comms-text">
                    Breve riunione di 10 minuti dopo la chiusura per aggiornamenti su servizi CUP e ricette dematerializzate.
                  </p>
                </li>
              </ul>
            </article>

            <!-- COLONNA DESTRA: NUOVA COMUNICAZIONE -->
            <article class="card comms-form-card">
              <h3>Nuova comunicazione</h3>
              <p class="small-text">
                Compila il modulo per inviare una comunicazione a tutto il personale o a reparti specifici.
              </p>

              <form id="commsForm" class="comms-form">
                <div class="form-row">
                  <label for="commsTitolo">Titolo</label>
                  <input type="text" id="commsTitolo" placeholder="Es. Aggiornamento procedure resi" />
                </div>

                <div class="form-row">
                  <label for="commsDestinatari">Destinatari</label>
                  <select id="commsDestinatari">
                    <option>Tutti i dipendenti</option>
                    <option>Banco</option>
                    <option>Magazziniera</option>
                    <option>Logistica</option>
                    <option>Solo titolare</option>
                  </select>
                </div>

                <div class="form-row">
                  <label for="commsTesto">Testo della comunicazione</label>
                  <textarea id="commsTesto" rows="4"
                    placeholder="Scrivi qui il messaggio da inviare al personale..."></textarea>
                </div>

                <div class="form-actions">
                  <button type="submit" class="btn-primary">Invia comunicazione</button>
                  <button type="button" class="btn-ghost" id="commsBozza">
                    Salva come bozza
                  </button>
                </div>

                <p id="commsFeedback" class="form-feedback hidden">
                  âœ… Comunicazione registrata (demo). In futuro verrÃ  salvata nel server.
                </p>
              </form>

              <div class="quick-messages">
                <h4>Messaggi rapidi</h4>
                <button type="button" class="quick-chip">
                  ğŸ” â€œRicordate di firmare il registro presenzeâ€
                </button>
                <button type="button" class="quick-chip">
                  ğŸ§¹ â€œControllare ordine banco prima della chiusuraâ€
                </button>
                <button type="button" class="quick-chip">
                  ğŸ’Š â€œAggiornare esposizione stagionale (allergie / solari)â€
                </button>
              </div>
            </article>

          </div>
        </section>

      </main>
    </div>
  </div>

</body>
</html>
